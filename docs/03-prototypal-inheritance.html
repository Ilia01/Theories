<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototypal Inheritance</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/11.1.1/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
</head>

<body>
    <!-- Header Toolbar -->
    <div id="header-toolbar">
        <button id="search-trigger" aria-label="Search" title="Search (Cmd+K)">
            <i class="fas fa-search"></i>
        </button>
        <button id="dark-mode-toggle" aria-label="Toggle dark mode" title="Toggle Dark Mode (Cmd+D)">
            <i id="dark-mode-icon" class="fas fa-moon"></i>
        </button>
        <button id="shortcuts-help" onclick="window.Shortcuts.show()" aria-label="Keyboard shortcuts"
            title="Shortcuts (?)">
            <i class="fas fa-keyboard"></i>
        </button>
    </div>

    <!-- Mobile Menu Toggle -->
    <button id="menu-toggle" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- Progress Bar -->
    <div id="progress-bar">
        <div id="progress-fill"></div>
    </div>

    <!-- Overall Progress Indicator -->
    <div id="overall-progress">
        <div id="overall-progress-bar" style="width: 0%"></div>
        <span id="progress-text">0/0 topics completed</span>
    </div>

    <!-- Sidebar Navigation -->
    <nav id="sidebar">
        <div id="sidebar-header">
            <h2>JS/NodeJs Concepts</h2>
        </div>
        <ul id="nav-list">
                        <li><a href="01-git-version-control.html"><span class="nav-number">1.</span>Git & Version Control</a></li>
            <li><a href="02-javascript-data-types.html"><span class="nav-number">2.</span>JavaScript Data Types</a></li>
            <li><a href="03-prototypal-inheritance.html" class="active"><span class="nav-number">3.</span>Prototypal Inheritance</a></li>
            <li><a href="04-closures.html"><span class="nav-number">4.</span>Closures</a></li>
            <li><a href="05-context.html"><span class="nav-number">5.</span>Context (this)</a></li>
            <li><a href="06-classes.html"><span class="nav-number">6.</span>Classes</a></li>
            <li><a href="07-event-loop-async.html"><span class="nav-number">7.</span>Event Loop & Async</a></li>
            <li><a href="08-garbage-collection.html"><span class="nav-number">8.</span>Garbage Collection</a></li>
        </ul>
        <div id="sidebar-footer">
            <button id="reset-progress" class="sidebar-btn">Reset Progress</button>
            <button id="export-progress" class="sidebar-btn">Export</button>
            <button id="flashcards-btn" class="sidebar-btn">
                <i class="fas fa-layer-group"></i> Flashcards
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        
        <aside class="table-of-contents">
            <h3>On This Page</h3>
            <nav class="toc-nav">
                <ul><li class=""><a href="#table-of-contents">Table of Contents</a></li>
<li class=""><a href="#inheritance-conception">Inheritance Conception</a></li>
<li class="toc-sub"><a href="#what-is-inheritance">What is Inheritance?</a></li>
<li class="toc-sub"><a href="#benefits-of-inheritance">Benefits of Inheritance</a></li>
<li class="toc-sub"><a href="#example">Example</a></li>
<li class=""><a href="#prototypal-inheritance-basics">Prototypal Inheritance Basics</a></li>
<li class="toc-sub"><a href="#core-concept">Core Concept</a></li>
<li class="toc-sub"><a href="#simple-example">Simple Example</a></li>
<li class="toc-sub"><a href="#how-property-lookup-works">How Property Lookup Works</a></li>
<li class=""><a href="#prototype-chain">Prototype Chain</a></li>
<li class="toc-sub"><a href="#understanding-the-chain">Understanding the Chain</a></li>
<li class="toc-sub"><a href="#visualizing-the-chain">Visualizing the Chain</a></li>
<li class="toc-sub"><a href="#chain-traversal">Chain Traversal</a></li>
<li class=""><a href="#proto-vs-prototype">__proto__ vs prototype</a></li>
<li class="toc-sub"><a href="#key-differences">Key Differences</a></li>
<li class="toc-sub"><a href="#proto-deprecated">`__proto__` (Deprecated)</a></li>
<li class="toc-sub"><a href="#prototype">`prototype`</a></li>
<li class="toc-sub"><a href="#the-complete-picture">The Complete Picture</a></li>
<li class="toc-sub"><a href="#why-the-confusion">Why the Confusion?</a></li>
<li class=""><a href="#creating-objects-with-prototypes">Creating Objects with Prototypes</a></li>
<li class="toc-sub"><a href="#method-1-objectcreate">Method 1: Object.create()</a></li>
<li class="toc-sub"><a href="#method-2-constructor-functions">Method 2: Constructor Functions</a></li>
<li class="toc-sub"><a href="#method-3-es6-classes">Method 3: ES6 Classes</a></li>
<li class="toc-sub"><a href="#method-4-objectsetprototypeof">Method 4: Object.setPrototypeOf()</a></li>
<li class="toc-sub"><a href="#comparison">Comparison</a></li>
<li class=""><a href="#prototypal-vs-functional-inheritance">Prototypal vs Functional Inheritance</a></li>
<li class="toc-sub"><a href="#prototypal-inheritance">Prototypal Inheritance</a></li>
<li class="toc-sub"><a href="#functional-inheritance">Functional Inheritance</a></li>
<li class="toc-sub"><a href="#comparison-table">Comparison Table</a></li>
<li class="toc-sub"><a href="#hybrid-approach">Hybrid Approach</a></li>
<li class=""><a href="#methods-to-setget-prototype">Methods to Set/Get Prototype</a></li>
<li class="toc-sub"><a href="#getting-prototype">Getting Prototype</a></li>
<li class="toc-sub"><a href="#setting-prototype">Setting Prototype</a></li>
<li class="toc-sub"><a href="#checking-prototype-relationships">Checking Prototype Relationships</a></li>
<li class="toc-sub"><a href="#creating-objects-with-null-prototype">Creating Objects with null Prototype</a></li>
<li class="toc-sub"><a href="#summary-of-methods">Summary of Methods</a></li>
<li class=""><a href="#secure-objects">Secure Objects</a></li>
<li class="toc-sub"><a href="#prevent-extensions">Prevent Extensions</a></li>
<li class="toc-sub"><a href="#seal">Seal</a></li>
<li class="toc-sub"><a href="#freeze">Freeze</a></li>
<li class="toc-sub"><a href="#important-shallow-operations">Important: Shallow Operations</a></li>
<li class="toc-sub"><a href="#comparison-table">Comparison Table</a></li>
<li class="toc-sub"><a href="#creating-truly-empty-objects">Creating Truly Empty Objects</a></li>
<li class="toc-sub"><a href="#private-fields-with-closures">Private Fields with Closures</a></li>
<li class="toc-sub"><a href="#es6-private-fields-classes">ES6 Private Fields (Classes)</a></li>
<li class=""><a href="#objectprototype-methods">Object.prototype Methods</a></li>
<li class="toc-sub"><a href="#hasownproperty">hasOwnProperty()</a></li>
<li class="toc-sub"><a href="#isprototypeof">isPrototypeOf()</a></li>
<li class="toc-sub"><a href="#propertyisenumerable">propertyIsEnumerable()</a></li>
<li class="toc-sub"><a href="#tostring">toString()</a></li>
<li class="toc-sub"><a href="#valueof">valueOf()</a></li>
<li class="toc-sub"><a href="#tolocalestring">toLocaleString()</a></li>
<li class=""><a href="#practical-applications">Practical Applications</a></li>
<li class="toc-sub"><a href="#example-1-inheritance-hierarchy">Example 1: Inheritance Hierarchy</a></li>
<li class="toc-sub"><a href="#example-2-mixins-via-prototypes">Example 2: Mixins via Prototypes</a></li>
<li class="toc-sub"><a href="#example-3-plugin-system">Example 3: Plugin System</a></li>
<li class="toc-sub"><a href="#example-4-method-chaining">Example 4: Method Chaining</a></li>
<li class="toc-sub"><a href="#example-5-observable-pattern">Example 5: Observable Pattern</a></li>
<li class=""><a href="#summary">Summary</a></li>
<li class="toc-sub"><a href="#key-takeaways">Key Takeaways</a></li>
<li class="toc-sub"><a href="#best-practices">Best Practices</a></li>
<li class="toc-sub"><a href="#common-patterns">Common Patterns</a></li></ul>
            </nav>
        </aside>
    
        <div class="page-meta">
            <span class="reading-time"><i class="far fa-clock"></i> 19 min read</span>
        </div>
    <h1 id="prototypal-inheritance">Prototypal Inheritance</h1>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#inheritance-conception">Inheritance Conception</a></li>
<li><a href="#prototypal-inheritance-basics">Prototypal Inheritance Basics</a></li>
<li><a href="#prototype-chain">Prototype Chain</a></li>
<li><a href="#__proto__-vs-prototype"><strong>proto</strong> vs prototype</a></li>
<li><a href="#creating-objects-with-prototypes">Creating Objects with Prototypes</a></li>
<li><a href="#prototypal-vs-functional-inheritance">Prototypal vs Functional Inheritance</a></li>
<li><a href="#methods-to-setget-prototype">Methods to Set/Get Prototype</a></li>
<li><a href="#secure-objects">Secure Objects</a></li>
<li><a href="#objectprototype-methods">Object.prototype Methods</a></li>
<li><a href="#practical-applications">Practical Applications</a></li>
</ul>
<hr>
<h2 id="inheritance-conception">Inheritance Conception</h2>
<h3 id="what-is-inheritance">What is Inheritance?</h3>
<p><strong>Inheritance</strong> is a mechanism that allows one object/class to acquire properties and methods from another.</p>
<h3 id="benefits-of-inheritance">Benefits of Inheritance</h3>
<ol>
<li><p><strong>Code Reusability</strong></p>
<ul>
<li>Write once, use in multiple places</li>
<li>Reduce duplication</li>
<li>Easier maintenance</li>
</ul>
</li>
<li><p><strong>Establish Relationships</strong></p>
<ul>
<li>Create hierarchies (is-a relationships)</li>
<li>Logical organization</li>
<li>Natural modeling of real-world concepts</li>
</ul>
</li>
<li><p><strong>Override/Extend Behavior</strong></p>
<ul>
<li>Customize inherited functionality</li>
<li>Add new capabilities</li>
<li>Keep base behavior intact</li>
</ul>
</li>
<li><p><strong>Polymorphism</strong></p>
<ul>
<li>Same interface, different implementations</li>
<li>Flexible and extensible code</li>
<li>Substitutability</li>
</ul>
</li>
</ol>
<h3 id="example">Example</h3>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// Without inheritance - code duplication</span>
<span class="hljs-keyword">const</span> dog = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Rex&quot;</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">3</span>,
  <span class="hljs-title function_">eat</span>(<span class="hljs-params"></span>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is eating`</span>); },
  <span class="hljs-title function_">sleep</span>(<span class="hljs-params"></span>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is sleeping`</span>); }
};

<span class="hljs-keyword">const</span> cat = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Whiskers&quot;</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">2</span>,
  <span class="hljs-title function_">eat</span>(<span class="hljs-params"></span>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is eating`</span>); },
  <span class="hljs-title function_">sleep</span>(<span class="hljs-params"></span>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is sleeping`</span>); }
};

<span class="hljs-comment">// With inheritance - reuse common behavior</span>
<span class="hljs-keyword">const</span> animal = {
  <span class="hljs-title function_">eat</span>(<span class="hljs-params"></span>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is eating`</span>); },
  <span class="hljs-title function_">sleep</span>(<span class="hljs-params"></span>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is sleeping`</span>); }
};

<span class="hljs-keyword">const</span> dog2 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(animal);
dog2.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;Rex&quot;</span>;
dog2.<span class="hljs-property">bark</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Woof!&quot;</span>); };

<span class="hljs-keyword">const</span> cat2 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(animal);
cat2.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;Whiskers&quot;</span>;
cat2.<span class="hljs-property">meow</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Meow!&quot;</span>); };
</code></pre><hr>
<h2 id="prototypal-inheritance-basics">Prototypal Inheritance Basics</h2>
<h3 id="core-concept">Core Concept</h3>
<ul>
<li><strong>Every JavaScript object has an internal <code>[[Prototype]]</code> link</strong></li>
<li>Objects inherit properties and methods from their prototype</li>
<li>Prototype is also an object (which has its own prototype)</li>
<li>Creates a <strong>prototype chain</strong> that ends at <code>Object.prototype</code> → <code>null</code></li>
</ul>
<h3 id="simple-example">Simple Example</h3>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// Create prototype object</span>
<span class="hljs-keyword">const</span> animal = {
  <span class="hljs-attr">eats</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-title function_">walk</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Animal walks&quot;</span>);
  }
};

<span class="hljs-comment">// Create object that inherits from animal</span>
<span class="hljs-keyword">const</span> rabbit = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(animal);
rabbit.<span class="hljs-property">jumps</span> = <span class="hljs-literal">true</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-property">eats</span>);  <span class="hljs-comment">// true (inherited from animal)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-property">jumps</span>); <span class="hljs-comment">// true (own property)</span>
rabbit.<span class="hljs-title function_">walk</span>();             <span class="hljs-comment">// &quot;Animal walks&quot; (inherited method)</span>

<span class="hljs-comment">// Check property ownership</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">&#x27;jumps&#x27;</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">&#x27;eats&#x27;</span>));  <span class="hljs-comment">// false (inherited)</span>
</code></pre><h3 id="how-property-lookup-works">How Property Lookup Works</h3>
<p>When you access <code>object.property</code>:</p>
<ol>
<li>Check if property exists on the object itself</li>
<li>If not, check object&#39;s prototype</li>
<li>If not, check prototype&#39;s prototype</li>
<li>Continue up the chain until found or reach <code>null</code></li>
</ol>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> animal = {
  <span class="hljs-attr">eats</span>: <span class="hljs-literal">true</span>
};

<span class="hljs-keyword">const</span> rabbit = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(animal);
rabbit.<span class="hljs-property">jumps</span> = <span class="hljs-literal">true</span>;

<span class="hljs-comment">// Lookup for rabbit.jumps:</span>
<span class="hljs-comment">// 1. Check rabbit → found! Return true</span>

<span class="hljs-comment">// Lookup for rabbit.eats:</span>
<span class="hljs-comment">// 1. Check rabbit → not found</span>
<span class="hljs-comment">// 2. Check animal (rabbit&#x27;s prototype) → found! Return true</span>

<span class="hljs-comment">// Lookup for rabbit.flies:</span>
<span class="hljs-comment">// 1. Check rabbit → not found</span>
<span class="hljs-comment">// 2. Check animal → not found</span>
<span class="hljs-comment">// 3. Check Object.prototype → not found</span>
<span class="hljs-comment">// 4. Reached null → return undefined</span>
</code></pre><hr>
<h2 id="prototype-chain">Prototype Chain</h2>
<h3 id="understanding-the-chain">Understanding the Chain</h3>
<p>Every object has a prototype chain:</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> obj = {};

<span class="hljs-comment">// Chain: obj → Object.prototype → null</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(obj) === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)); <span class="hljs-comment">// null</span>
</code></pre><pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> arr = [];

<span class="hljs-comment">// Chain: arr → Array.prototype → Object.prototype → null</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(arr) === <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
</code></pre><pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) {}

<span class="hljs-comment">// Chain: fn → Function.prototype → Object.prototype → null</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(fn) === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(<span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
</code></pre><h3 id="visualizing-the-chain">Visualizing the Chain</h3>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}
<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sleep</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is sleeping`</span>);
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params">name, breed</span>) {
  <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, name);
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">breed</span> = breed;
}

<span class="hljs-comment">// Set up inheritance</span>
<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Dog</span>;

<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">bark</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Woof!&quot;</span>);
};

<span class="hljs-keyword">const</span> myDog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;Rex&quot;</span>, <span class="hljs-string">&quot;Labrador&quot;</span>);

<span class="hljs-comment">/*
Prototype Chain:

myDog
  ├─ name: &quot;Rex&quot;
  ├─ breed: &quot;Labrador&quot;
  └─ [[Prototype]] → Dog.prototype
       ├─ bark: function
       ├─ constructor: Dog
       └─ [[Prototype]] → Animal.prototype
            ├─ sleep: function
            ├─ constructor: Animal
            └─ [[Prototype]] → Object.prototype
                 ├─ toString: function
                 ├─ hasOwnProperty: function
                 └─ [[Prototype]] → null
*/</span>

<span class="hljs-comment">// Property lookup follows the chain:</span>
myDog.<span class="hljs-title function_">bark</span>();          <span class="hljs-comment">// Found on Dog.prototype</span>
myDog.<span class="hljs-title function_">sleep</span>();         <span class="hljs-comment">// Found on Animal.prototype</span>
myDog.<span class="hljs-title function_">toString</span>();      <span class="hljs-comment">// Found on Object.prototype</span>
myDog.<span class="hljs-property">nonExistent</span>;     <span class="hljs-comment">// Not found anywhere → undefined</span>
</code></pre><h3 id="chain-traversal">Chain Traversal</h3>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// Manual chain traversal</span>
<span class="hljs-keyword">let</span> current = myDog;
<span class="hljs-keyword">while</span> (current !== <span class="hljs-literal">null</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(current);
  current = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(current);
}
<span class="hljs-comment">// Output:</span>
<span class="hljs-comment">// myDog instance</span>
<span class="hljs-comment">// Dog.prototype</span>
<span class="hljs-comment">// Animal.prototype</span>
<span class="hljs-comment">// Object.prototype</span>
<span class="hljs-comment">// (null - end of chain)</span>
</code></pre><hr>
<h2 id="proto-vs-prototype"><strong>proto</strong> vs prototype</h2>
<h3 id="key-differences">Key Differences</h3>
<table>
<thead>
<tr>
<th>Aspect</th>
<th><code>__proto__</code></th>
<th><code>prototype</code></th>
</tr>
</thead>
<tbody><tr>
<td><strong>Property of</strong></td>
<td>All objects</td>
<td>Functions only</td>
</tr>
<tr>
<td><strong>Purpose</strong></td>
<td>Access object&#39;s prototype</td>
<td>Template for new instances</td>
</tr>
<tr>
<td><strong>When used</strong></td>
<td>Property lookup</td>
<td>Object creation with <code>new</code></td>
</tr>
<tr>
<td><strong>Type</strong></td>
<td>Instance property</td>
<td>Constructor property</td>
</tr>
<tr>
<td><strong>Access</strong></td>
<td><code>obj.__proto__</code></td>
<td><code>Constructor.prototype</code></td>
</tr>
<tr>
<td><strong>Status</strong></td>
<td>Deprecated</td>
<td>Standard</td>
</tr>
<tr>
<td><strong>Modern alternative</strong></td>
<td><code>Object.getPrototypeOf()</code></td>
<td>No replacement needed</td>
</tr>
</tbody></table>
<h3 id="proto-deprecated"><code>__proto__</code> (Deprecated)</h3>
<p>Getter/setter for an object&#39;s internal <code>[[Prototype]]</code>.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> animal = {
  <span class="hljs-attr">eats</span>: <span class="hljs-literal">true</span>
};

<span class="hljs-keyword">const</span> rabbit = {
  <span class="hljs-attr">jumps</span>: <span class="hljs-literal">true</span>
};

<span class="hljs-comment">// Set prototype using __proto__ (deprecated)</span>
rabbit.<span class="hljs-property">__proto__</span> = animal;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-property">eats</span>);  <span class="hljs-comment">// true (inherited)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-property">jumps</span>); <span class="hljs-comment">// true (own property)</span>

<span class="hljs-comment">// Get prototype</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-property">__proto__</span> === animal); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// Modern alternative (preferred):</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(rabbit) === animal; <span class="hljs-comment">// true</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(rabbit, animal);    <span class="hljs-comment">// Set prototype</span>
</code></pre><h3 id="prototype"><code>prototype</code></h3>
<p>Property of constructor functions that becomes the prototype of instances.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;  <span class="hljs-comment">// Instance property</span>
}

<span class="hljs-comment">// Add method to prototype (shared by all instances)</span>
<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">bark</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> says woof!`</span>);
};

<span class="hljs-keyword">const</span> dog1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;Rex&quot;</span>);
<span class="hljs-keyword">const</span> dog2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;Max&quot;</span>);

<span class="hljs-comment">// Both instances share the same bark method</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog1.<span class="hljs-property">bark</span> === dog2.<span class="hljs-property">bark</span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// Relationship:</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog1.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);           <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(dog1) === <span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true (preferred)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Dog</span>);          <span class="hljs-comment">// true</span>
</code></pre><h3 id="the-complete-picture">The Complete Picture</h3>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}

<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">greet</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hi, I&#x27;m <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>);
};

<span class="hljs-keyword">const</span> alice = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alice&quot;</span>);

<span class="hljs-comment">/*
Relationships:

alice (instance)
  ├─ name: &quot;Alice&quot;
  └─ __proto__ / [[Prototype]]
       ↓
Person.prototype (object)
  ├─ greet: function
  ├─ constructor: Person
  └─ __proto__ / [[Prototype]]
       ↓
Object.prototype
  └─ __proto__ / [[Prototype]]
       ↓
     null

Person (function)
  └─ prototype
       ↓
Person.prototype (same object as above)
*/</span>

<span class="hljs-comment">// Verify relationships:</span>
alice.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;                    <span class="hljs-comment">// true</span>
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Person</span>;                 <span class="hljs-comment">// true</span>
alice.<span class="hljs-property">__proto__</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;          <span class="hljs-comment">// true</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(alice) === <span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;       <span class="hljs-comment">// true (preferred)</span>
</code></pre><h3 id="why-the-confusion">Why the Confusion?</h3>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params"></span>) {}

<span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>();

<span class="hljs-comment">// These all refer to the same thing:</span>
dog.<span class="hljs-property">__proto__</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(dog)
<span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>

<span class="hljs-comment">// They all equal Dog.prototype</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);                  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(dog) === <span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);     <span class="hljs-comment">// true</span>

<span class="hljs-comment">// But Dog.__proto__ is different!</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Dog</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);             <span class="hljs-comment">// true</span>
<span class="hljs-comment">// (Dog is a function, so its prototype is Function.prototype)</span>
</code></pre><hr>
<h2 id="creating-objects-with-prototypes">Creating Objects with Prototypes</h2>
<h3 id="method-1-objectcreate">Method 1: Object.create()</h3>
<p><strong>Most modern and flexible approach.</strong></p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// Create prototype object</span>
<span class="hljs-keyword">const</span> animal = {
  <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;animal&#x27;</span>,
  <span class="hljs-title function_">speak</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> makes a sound`</span>);
  }
};

<span class="hljs-comment">// Create object with animal as prototype</span>
<span class="hljs-keyword">const</span> dog = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(animal);
dog.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;Rex&quot;</span>;
dog.<span class="hljs-property">breed</span> = <span class="hljs-string">&quot;Labrador&quot;</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog.<span class="hljs-property">type</span>);  <span class="hljs-comment">// &quot;animal&quot; (inherited)</span>
dog.<span class="hljs-title function_">speak</span>();            <span class="hljs-comment">// &quot;Rex makes a sound&quot;</span>

<span class="hljs-comment">// With property descriptors</span>
<span class="hljs-keyword">const</span> cat = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(animal, {
  <span class="hljs-attr">name</span>: {
    <span class="hljs-attr">value</span>: <span class="hljs-string">&quot;Whiskers&quot;</span>,
    <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>
  },
  <span class="hljs-attr">age</span>: {
    <span class="hljs-attr">value</span>: <span class="hljs-number">3</span>,
    <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>
  }
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat.<span class="hljs-property">name</span>); <span class="hljs-comment">// &quot;Whiskers&quot;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat.<span class="hljs-property">age</span>);  <span class="hljs-comment">// 3</span>
</code></pre><h3 id="method-2-constructor-functions">Method 2: Constructor Functions</h3>
<p><strong>Classic JavaScript approach.</strong></p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name, age</span>) {
  <span class="hljs-comment">// Instance properties</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
}

<span class="hljs-comment">// Shared methods on prototype</span>
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">greet</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hi, I&#x27;m <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>, <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.age}</span> years old`</span>);
};

<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayAge</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`I&#x27;m <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.age}</span> years old`</span>);
};

<span class="hljs-comment">// Create instances</span>
<span class="hljs-keyword">const</span> john = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-number">30</span>);
<span class="hljs-keyword">const</span> jane = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Jane&quot;</span>, <span class="hljs-number">25</span>);

john.<span class="hljs-title function_">greet</span>();  <span class="hljs-comment">// &quot;Hi, I&#x27;m John, 30 years old&quot;</span>
jane.<span class="hljs-title function_">greet</span>();  <span class="hljs-comment">// &quot;Hi, I&#x27;m Jane, 25 years old&quot;</span>

<span class="hljs-comment">// Methods are shared (memory efficient)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(john.<span class="hljs-property">greet</span> === jane.<span class="hljs-property">greet</span>); <span class="hljs-comment">// true</span>
</code></pre><h3 id="method-3-es6-classes">Method 3: ES6 Classes</h3>
<p><strong>Syntactic sugar over prototypes.</strong></p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;  <span class="hljs-comment">// Instance property</span>
  }

  <span class="hljs-comment">// Method (added to Animal.prototype)</span>
  <span class="hljs-title function_">speak</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> makes a sound`</span>);
  }

  <span class="hljs-comment">// Static method (on class itself)</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">info</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Animals are living organisms&quot;</span>);
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, breed</span>) {
    <span class="hljs-variable language_">super</span>(name);  <span class="hljs-comment">// Call parent constructor</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">breed</span> = breed;
  }

  <span class="hljs-title function_">speak</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> barks`</span>);
  }

  <span class="hljs-title function_">fetch</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> fetches the ball`</span>);
  }
}

<span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;Rex&quot;</span>, <span class="hljs-string">&quot;Labrador&quot;</span>);
dog.<span class="hljs-title function_">speak</span>();      <span class="hljs-comment">// &quot;Rex barks&quot;</span>
dog.<span class="hljs-title function_">fetch</span>();      <span class="hljs-comment">// &quot;Rex fetches the ball&quot;</span>
<span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">info</span>();    <span class="hljs-comment">// &quot;Animals are living organisms&quot;</span>
</code></pre><h3 id="method-4-objectsetprototypeof">Method 4: Object.setPrototypeOf()</h3>
<p><strong>Works but slow - avoid in production.</strong></p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> animal = {
  <span class="hljs-attr">eats</span>: <span class="hljs-literal">true</span>
};

<span class="hljs-keyword">const</span> rabbit = {
  <span class="hljs-attr">jumps</span>: <span class="hljs-literal">true</span>
};

<span class="hljs-comment">// Set prototype after creation (slow!)</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(rabbit, animal);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-property">eats</span>);  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-property">jumps</span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// Why it&#x27;s slow: changes object&#x27;s internal structure</span>
<span class="hljs-comment">// Engine optimizations are invalidated</span>
</code></pre><h3 id="comparison">Comparison</h3>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// 1. Object.create - most flexible</span>
<span class="hljs-keyword">const</span> proto1 = { <span class="hljs-title function_">method</span>(<span class="hljs-params"></span>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;proto1&quot;</span>); } };
<span class="hljs-keyword">const</span> obj1 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(proto1);

<span class="hljs-comment">// 2. Constructor - classic pattern</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Constructor</span>(<span class="hljs-params"></span>) {}
<span class="hljs-title class_">Constructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">method</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;constructor&quot;</span>); };
<span class="hljs-keyword">const</span> obj2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Constructor</span>();

<span class="hljs-comment">// 3. ES6 Class - modern, clean syntax</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> {
  <span class="hljs-title function_">method</span>(<span class="hljs-params"></span>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;class&quot;</span>); }
}
<span class="hljs-keyword">const</span> obj3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyClass</span>();

<span class="hljs-comment">// All achieve the same result:</span>
obj1.<span class="hljs-title function_">method</span>(); <span class="hljs-comment">// &quot;proto1&quot;</span>
obj2.<span class="hljs-title function_">method</span>(); <span class="hljs-comment">// &quot;constructor&quot;</span>
obj3.<span class="hljs-title function_">method</span>(); <span class="hljs-comment">// &quot;class&quot;</span>
</code></pre><hr>
<h2 id="prototypal-vs-functional-inheritance">Prototypal vs Functional Inheritance</h2>
<h3 id="prototypal-inheritance">Prototypal Inheritance</h3>
<p>Objects inherit from other objects via prototype chain.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}

<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">speak</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> makes a sound`</span>);
};

<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sleep</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is sleeping`</span>);
};

<span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-string">&quot;Rex&quot;</span>);
<span class="hljs-keyword">const</span> cat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-string">&quot;Whiskers&quot;</span>);

dog.<span class="hljs-title function_">speak</span>();  <span class="hljs-comment">// &quot;Rex makes a sound&quot;</span>
cat.<span class="hljs-title function_">speak</span>();  <span class="hljs-comment">// &quot;Whiskers makes a sound&quot;</span>

<span class="hljs-comment">// Methods are shared (memory efficient)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog.<span class="hljs-property">speak</span> === cat.<span class="hljs-property">speak</span>); <span class="hljs-comment">// true</span>
</code></pre><p><strong>Characteristics:</strong></p>
<ul>
<li>Methods stored on prototype (shared)</li>
<li>Memory efficient</li>
<li>Uses <code>new</code> keyword</li>
<li>Public properties (no true privacy)</li>
<li>Prototype chain visible</li>
</ul>
<h3 id="functional-inheritance">Functional Inheritance</h3>
<p>Factory functions that return objects with methods.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createAnimal</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-comment">// Private variable (true privacy via closure)</span>
  <span class="hljs-keyword">let</span> energy = <span class="hljs-number">100</span>;

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">name</span>: name,

    <span class="hljs-title function_">speak</span>(<span class="hljs-params"></span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> makes a sound`</span>);
    },

    <span class="hljs-title function_">sleep</span>(<span class="hljs-params"></span>) {
      energy += <span class="hljs-number">10</span>;
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is sleeping. Energy: <span class="hljs-subst">${energy}</span>`</span>);
    },

    <span class="hljs-title function_">getEnergy</span>(<span class="hljs-params"></span>) {
      <span class="hljs-keyword">return</span> energy;  <span class="hljs-comment">// Controlled access to private variable</span>
    }
  };
}

<span class="hljs-keyword">const</span> dog = <span class="hljs-title function_">createAnimal</span>(<span class="hljs-string">&quot;Rex&quot;</span>);
<span class="hljs-keyword">const</span> cat = <span class="hljs-title function_">createAnimal</span>(<span class="hljs-string">&quot;Whiskers&quot;</span>);

dog.<span class="hljs-title function_">speak</span>();         <span class="hljs-comment">// &quot;Rex makes a sound&quot;</span>
dog.<span class="hljs-title function_">sleep</span>();         <span class="hljs-comment">// &quot;Rex is sleeping. Energy: 110&quot;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog.<span class="hljs-title function_">getEnergy</span>()); <span class="hljs-comment">// 110</span>

<span class="hljs-comment">// Methods are NOT shared (each instance has its own copy)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog.<span class="hljs-property">speak</span> === cat.<span class="hljs-property">speak</span>); <span class="hljs-comment">// false</span>

<span class="hljs-comment">// Private variables are truly private</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog.<span class="hljs-property">energy</span>); <span class="hljs-comment">// undefined (no direct access)</span>
</code></pre><h3 id="comparison-table">Comparison Table</h3>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>Prototypal</th>
<th>Functional</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Memory</strong></td>
<td>Efficient (shared methods)</td>
<td>Less efficient (duplicate methods)</td>
</tr>
<tr>
<td><strong>Privacy</strong></td>
<td>No true privacy</td>
<td>True privacy via closures</td>
</tr>
<tr>
<td><strong>Syntax</strong></td>
<td><code>new</code> keyword, <code>prototype</code></td>
<td>Factory function, returns object</td>
</tr>
<tr>
<td><strong>Inheritance</strong></td>
<td>Via prototype chain</td>
<td>Via composition</td>
</tr>
<tr>
<td><strong>instanceof</strong></td>
<td>Works</td>
<td>Doesn&#39;t work</td>
</tr>
<tr>
<td><strong>Performance</strong></td>
<td>Faster</td>
<td>Slightly slower</td>
</tr>
<tr>
<td><strong>Flexibility</strong></td>
<td>Less flexible</td>
<td>More flexible</td>
</tr>
</tbody></table>
<h3 id="hybrid-approach">Hybrid Approach</h3>
<p>Combine both for best of both worlds:</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createPerson</span>(<span class="hljs-params">name, age</span>) {
  <span class="hljs-comment">// Private variables</span>
  <span class="hljs-keyword">let</span> _id = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>();

  <span class="hljs-comment">// Use constructor for shared methods</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
  }

  <span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">greet</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hi, I&#x27;m <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>);
  };

  <span class="hljs-comment">// Create instance</span>
  <span class="hljs-keyword">const</span> instance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();

  <span class="hljs-comment">// Add methods that need access to private data</span>
  instance.<span class="hljs-property">getId</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> _id;
  };

  <span class="hljs-keyword">return</span> instance;
}

<span class="hljs-keyword">const</span> person = <span class="hljs-title function_">createPerson</span>(<span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-number">30</span>);
person.<span class="hljs-title function_">greet</span>();  <span class="hljs-comment">// &quot;Hi, I&#x27;m John&quot;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person.<span class="hljs-title function_">getId</span>());  <span class="hljs-comment">// Random number</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person.<span class="hljs-property">_id</span>);      <span class="hljs-comment">// undefined (private)</span>
</code></pre><hr>
<h2 id="methods-to-setget-prototype">Methods to Set/Get Prototype</h2>
<h3 id="getting-prototype">Getting Prototype</h3>
<h4 id="modern-preferred">Modern (Preferred)</h4>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> obj = {};

<span class="hljs-comment">// Get prototype - preferred method</span>
<span class="hljs-keyword">const</span> proto = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(obj);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proto === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
</code></pre><h4 id="legacy-deprecated">Legacy (Deprecated)</h4>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> obj = {};

<span class="hljs-comment">// Using __proto__ - deprecated but still works</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
</code></pre><h3 id="setting-prototype">Setting Prototype</h3>
<h4 id="at-creation-preferred">At Creation (Preferred)</h4>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> animal = {
  <span class="hljs-attr">eats</span>: <span class="hljs-literal">true</span>
};

<span class="hljs-comment">// Object.create - best practice</span>
<span class="hljs-keyword">const</span> rabbit = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(animal);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-property">eats</span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// With property descriptors</span>
<span class="hljs-keyword">const</span> bird = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(animal, {
  <span class="hljs-attr">flies</span>: {
    <span class="hljs-attr">value</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>
  }
});
</code></pre><h4 id="after-creation-avoid">After Creation (Avoid)</h4>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> animal = {
  <span class="hljs-attr">eats</span>: <span class="hljs-literal">true</span>
};

<span class="hljs-keyword">const</span> rabbit = {
  <span class="hljs-attr">jumps</span>: <span class="hljs-literal">true</span>
};

<span class="hljs-comment">// Object.setPrototypeOf - works but slow!</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(rabbit, animal);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-property">eats</span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// __proto__ - deprecated</span>
<span class="hljs-comment">// rabbit.__proto__ = animal;</span>
</code></pre><h3 id="checking-prototype-relationships">Checking Prototype Relationships</h3>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> animal = {
  <span class="hljs-attr">eats</span>: <span class="hljs-literal">true</span>
};

<span class="hljs-keyword">const</span> rabbit = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(animal);

<span class="hljs-comment">// Check if animal is in rabbit&#x27;s prototype chain</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(animal.<span class="hljs-title function_">isPrototypeOf</span>(rabbit)); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// instanceof (works with constructors)</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params"></span>) {}
<span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Dog</span>);    <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// Check constructor</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Object</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Dog</span>);       <span class="hljs-comment">// true</span>
</code></pre><h3 id="creating-objects-with-null-prototype">Creating Objects with null Prototype</h3>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// Object with no prototype (truly empty)</span>
<span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">toString</span>); <span class="hljs-comment">// undefined</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(obj)); <span class="hljs-comment">// null</span>

<span class="hljs-comment">// Useful for:</span>
<span class="hljs-comment">// - Pure dictionaries</span>
<span class="hljs-comment">// - No inherited properties</span>
<span class="hljs-comment">// - No prototype pollution</span>

<span class="hljs-comment">// Use case: clean map/dictionary</span>
<span class="hljs-keyword">const</span> dictionary = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>);
dictionary.<span class="hljs-property">hasOwnProperty</span> = <span class="hljs-string">&quot;my value&quot;</span>;  <span class="hljs-comment">// Would conflict on normal object</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dictionary.<span class="hljs-property">hasOwnProperty</span>);  <span class="hljs-comment">// &quot;my value&quot; (not the method)</span>
</code></pre><h3 id="summary-of-methods">Summary of Methods</h3>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// GET prototype</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(obj)        <span class="hljs-comment">// ✅ Preferred</span>
obj.<span class="hljs-property">__proto__</span>                     <span class="hljs-comment">// ❌ Deprecated</span>

<span class="hljs-comment">// SET prototype at creation</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(proto)              <span class="hljs-comment">// ✅ Preferred</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(proto, properties)  <span class="hljs-comment">// ✅ With descriptors</span>

<span class="hljs-comment">// SET prototype after creation</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(obj, proto) <span class="hljs-comment">// ⚠️ Slow, avoid</span>
obj.<span class="hljs-property">__proto__</span> = proto             <span class="hljs-comment">// ❌ Deprecated</span>

<span class="hljs-comment">// CHECK relationships</span>
proto.<span class="hljs-title function_">isPrototypeOf</span>(obj)          <span class="hljs-comment">// ✅ Check if in chain</span>
obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Constructor</span>        <span class="hljs-comment">// ✅ For constructors</span>
</code></pre><hr>
<h2 id="secure-objects">Secure Objects</h2>
<h3 id="prevent-extensions">Prevent Extensions</h3>
<p>No new properties can be added.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span> };

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">preventExtensions</span>(obj);

obj.<span class="hljs-property">x</span> = <span class="hljs-number">2</span>;      <span class="hljs-comment">// OK - modify existing</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">x</span>); <span class="hljs-comment">// 2</span>

obj.<span class="hljs-property">y</span> = <span class="hljs-number">3</span>;      <span class="hljs-comment">// Silently fails (strict mode: throws)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">y</span>); <span class="hljs-comment">// undefined</span>

<span class="hljs-keyword">delete</span> obj.<span class="hljs-property">x</span>;   <span class="hljs-comment">// OK - can delete</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">x</span>); <span class="hljs-comment">// undefined</span>

<span class="hljs-comment">// Check if extensible</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">isExtensible</span>(obj)); <span class="hljs-comment">// false</span>
</code></pre><h3 id="seal">Seal</h3>
<p>No add/remove properties, but can modify existing values.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">2</span> };

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">seal</span>(obj);

obj.<span class="hljs-property">x</span> = <span class="hljs-number">10</span>;     <span class="hljs-comment">// OK - modify existing</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">x</span>); <span class="hljs-comment">// 10</span>

obj.<span class="hljs-property">z</span> = <span class="hljs-number">3</span>;      <span class="hljs-comment">// Fails - can&#x27;t add</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">z</span>); <span class="hljs-comment">// undefined</span>

<span class="hljs-keyword">delete</span> obj.<span class="hljs-property">y</span>;   <span class="hljs-comment">// Fails - can&#x27;t delete</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">y</span>); <span class="hljs-comment">// 2 (still there)</span>

<span class="hljs-comment">// Check if sealed</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">isSealed</span>(obj)); <span class="hljs-comment">// true</span>
</code></pre><h3 id="freeze">Freeze</h3>
<p>Completely immutable (shallow).</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">2</span> };

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>(obj);

obj.<span class="hljs-property">x</span> = <span class="hljs-number">10</span>;     <span class="hljs-comment">// Fails - can&#x27;t modify</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">x</span>); <span class="hljs-comment">// 1 (unchanged)</span>

obj.<span class="hljs-property">z</span> = <span class="hljs-number">3</span>;      <span class="hljs-comment">// Fails - can&#x27;t add</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">z</span>); <span class="hljs-comment">// undefined</span>

<span class="hljs-keyword">delete</span> obj.<span class="hljs-property">y</span>;   <span class="hljs-comment">// Fails - can&#x27;t delete</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">y</span>); <span class="hljs-comment">// 2 (still there)</span>

<span class="hljs-comment">// Check if frozen</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">isFrozen</span>(obj)); <span class="hljs-comment">// true</span>
</code></pre><h3 id="important-shallow-operations">Important: Shallow Operations</h3>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">nested</span>: { <span class="hljs-attr">y</span>: <span class="hljs-number">2</span> }
};

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>(obj);

obj.<span class="hljs-property">x</span> = <span class="hljs-number">10</span>;           <span class="hljs-comment">// Fails</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">x</span>);   <span class="hljs-comment">// 1</span>

obj.<span class="hljs-property">nested</span>.<span class="hljs-property">y</span> = <span class="hljs-number">20</span>;    <span class="hljs-comment">// Works! (nested object not frozen)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">nested</span>.<span class="hljs-property">y</span>); <span class="hljs-comment">// 20</span>

<span class="hljs-comment">// Deep freeze (recursive)</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">deepFreeze</span>(<span class="hljs-params">obj</span>) {
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>(obj);

  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(obj).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj[key] === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; obj[key] !== <span class="hljs-literal">null</span>) {
      <span class="hljs-title function_">deepFreeze</span>(obj[key]);
    }
  });

  <span class="hljs-keyword">return</span> obj;
}

<span class="hljs-keyword">const</span> obj2 = {
  <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">nested</span>: { <span class="hljs-attr">y</span>: <span class="hljs-number">2</span> }
};

<span class="hljs-title function_">deepFreeze</span>(obj2);
obj2.<span class="hljs-property">nested</span>.<span class="hljs-property">y</span> = <span class="hljs-number">20</span>;   <span class="hljs-comment">// Now fails</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj2.<span class="hljs-property">nested</span>.<span class="hljs-property">y</span>); <span class="hljs-comment">// 2 (unchanged)</span>
</code></pre><h3 id="comparison-table">Comparison Table</h3>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Extensible</th>
<th>Sealed</th>
<th>Frozen</th>
</tr>
</thead>
<tbody><tr>
<td>Add properties</td>
<td>✅</td>
<td>❌</td>
<td>❌</td>
</tr>
<tr>
<td>Delete properties</td>
<td>✅</td>
<td>❌</td>
<td>❌</td>
</tr>
<tr>
<td>Modify values</td>
<td>✅</td>
<td>✅</td>
<td>❌</td>
</tr>
<tr>
<td>Modify descriptors</td>
<td>✅</td>
<td>❌</td>
<td>❌</td>
</tr>
</tbody></table>
<h3 id="creating-truly-empty-objects">Creating Truly Empty Objects</h3>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// Regular object has inherited properties</span>
<span class="hljs-keyword">const</span> obj1 = {};
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj1.<span class="hljs-property">toString</span>); <span class="hljs-comment">// [Function: toString] (inherited)</span>

<span class="hljs-comment">// Object with null prototype - truly empty</span>
<span class="hljs-keyword">const</span> obj2 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj2.<span class="hljs-property">toString</span>); <span class="hljs-comment">// undefined (no inheritance)</span>

<span class="hljs-comment">// Benefits:</span>
<span class="hljs-comment">// - No prototype pollution</span>
<span class="hljs-comment">// - Clean dictionaries</span>
<span class="hljs-comment">// - No naming conflicts</span>

<span class="hljs-comment">// Use case: safe key-value store</span>
<span class="hljs-keyword">const</span> map = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>);
map[<span class="hljs-string">&#x27;toString&#x27;</span>] = <span class="hljs-string">&quot;my value&quot;</span>;  <span class="hljs-comment">// Safe! Won&#x27;t conflict</span>
map[<span class="hljs-string">&#x27;__proto__&#x27;</span>] = <span class="hljs-string">&quot;another value&quot;</span>;  <span class="hljs-comment">// Safe!</span>
</code></pre><h3 id="private-fields-with-closures">Private Fields with Closures</h3>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createSecureObject</span>(<span class="hljs-params">secret</span>) {
  <span class="hljs-comment">// Private variable - truly private</span>
  <span class="hljs-keyword">let</span> _secret = secret;

  <span class="hljs-comment">// Public interface</span>
  <span class="hljs-keyword">return</span> {
    <span class="hljs-title function_">getSecret</span>(<span class="hljs-params"></span>) {
      <span class="hljs-keyword">return</span> _secret;
    },

    <span class="hljs-title function_">setSecret</span>(<span class="hljs-params">newSecret</span>) {
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> newSecret === <span class="hljs-string">&#x27;string&#x27;</span>) {
        _secret = newSecret;
      }
    }
  };
}

<span class="hljs-keyword">const</span> obj = <span class="hljs-title function_">createSecureObject</span>(<span class="hljs-string">&quot;password123&quot;</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-title function_">getSecret</span>());  <span class="hljs-comment">// &quot;password123&quot;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">_secret</span>);      <span class="hljs-comment">// undefined (no direct access)</span>
obj.<span class="hljs-title function_">setSecret</span>(<span class="hljs-string">&quot;newpassword&quot;</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-title function_">getSecret</span>());  <span class="hljs-comment">// &quot;newpassword&quot;</span>
</code></pre><h3 id="es6-private-fields-classes">ES6 Private Fields (Classes)</h3>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SecureAccount</span> {
  #balance = <span class="hljs-number">0</span>;  <span class="hljs-comment">// Private field</span>

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">initialBalance</span>) {
    <span class="hljs-variable language_">this</span>.#balance = initialBalance;
  }

  <span class="hljs-title function_">deposit</span>(<span class="hljs-params">amount</span>) {
    <span class="hljs-variable language_">this</span>.#balance += amount;
  }

  <span class="hljs-title function_">getBalance</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.#balance;
  }
}

<span class="hljs-keyword">const</span> account = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SecureAccount</span>(<span class="hljs-number">100</span>);
account.<span class="hljs-title function_">deposit</span>(<span class="hljs-number">50</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(account.<span class="hljs-title function_">getBalance</span>());  <span class="hljs-comment">// 150</span>
<span class="hljs-comment">// console.log(account.#balance);   // SyntaxError: Private field</span>
</code></pre><hr>
<h2 id="objectprototype-methods">Object.prototype Methods</h2>
<p>Common methods inherited by all objects:</p>
<h3 id="hasownproperty">hasOwnProperty()</h3>
<p>Check if property is own (not inherited).</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> animal = { <span class="hljs-attr">eats</span>: <span class="hljs-literal">true</span> };
<span class="hljs-keyword">const</span> rabbit = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(animal);
rabbit.<span class="hljs-property">jumps</span> = <span class="hljs-literal">true</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">&#x27;jumps&#x27;</span>)); <span class="hljs-comment">// true (own)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">&#x27;eats&#x27;</span>));  <span class="hljs-comment">// false (inherited)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rabbit.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">&#x27;flies&#x27;</span>)); <span class="hljs-comment">// false (doesn&#x27;t exist)</span>
</code></pre><h3 id="isprototypeof">isPrototypeOf()</h3>
<p>Check if object is in another&#39;s prototype chain.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> animal = { <span class="hljs-attr">eats</span>: <span class="hljs-literal">true</span> };
<span class="hljs-keyword">const</span> rabbit = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(animal);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(animal.<span class="hljs-title function_">isPrototypeOf</span>(rabbit));          <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-title function_">isPrototypeOf</span>(rabbit)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-title function_">isPrototypeOf</span>(rabbit));  <span class="hljs-comment">// false</span>
</code></pre><h3 id="propertyisenumerable">propertyIsEnumerable()</h3>
<p>Check if property is enumerable.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span> };

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj, <span class="hljs-string">&#x27;y&#x27;</span>, {
  <span class="hljs-attr">value</span>: <span class="hljs-number">2</span>,
  <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span>
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-title function_">propertyIsEnumerable</span>(<span class="hljs-string">&#x27;x&#x27;</span>));  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-title function_">propertyIsEnumerable</span>(<span class="hljs-string">&#x27;y&#x27;</span>));  <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-title function_">propertyIsEnumerable</span>(<span class="hljs-string">&#x27;toString&#x27;</span>)); <span class="hljs-comment">// false (inherited)</span>
</code></pre><h3 id="tostring">toString()</h3>
<p>String representation of object.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span> };
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// &quot;[object Object]&quot;</span>

<span class="hljs-comment">// Override for custom behavior</span>
obj.<span class="hljs-property">toString</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-string">`Object with x=<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.x}</span>`</span>;
};
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// &quot;Object with x=1&quot;</span>

<span class="hljs-comment">// Get precise type</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>([]);        <span class="hljs-comment">// &quot;[object Array]&quot;</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()); <span class="hljs-comment">// &quot;[object Date]&quot;</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-regexp">/regex/</span>);   <span class="hljs-comment">// &quot;[object RegExp]&quot;</span>
</code></pre><h3 id="valueof">valueOf()</h3>
<p>Primitive value of object.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span> };
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-title function_">valueOf</span>()); <span class="hljs-comment">// { x: 1 } (the object itself)</span>

<span class="hljs-comment">// Custom behavior</span>
obj.<span class="hljs-property">valueOf</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>;
};

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj + <span class="hljs-number">10</span>); <span class="hljs-comment">// 11 (valueOf() called during coercion)</span>
</code></pre><h3 id="tolocalestring">toLocaleString()</h3>
<p>Localized string representation.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">toLocaleString</span>()); <span class="hljs-comment">// Localized date string</span>

<span class="hljs-keyword">const</span> num = <span class="hljs-number">123456.789</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num.<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">&#x27;en-US&#x27;</span>));  <span class="hljs-comment">// &quot;123,456.789&quot;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num.<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">&#x27;de-DE&#x27;</span>));  <span class="hljs-comment">// &quot;123.456,789&quot;</span>
</code></pre><hr>
<h2 id="practical-applications">Practical Applications</h2>
<h3 id="example-1-inheritance-hierarchy">Example 1: Inheritance Hierarchy</h3>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// Base class</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Shape</span>(<span class="hljs-params">color</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
}

<span class="hljs-title class_">Shape</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">draw</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Drawing <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.color}</span> shape`</span>);
};

<span class="hljs-title class_">Shape</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">getColor</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span>;
};

<span class="hljs-comment">// Derived class - Circle</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Circle</span>(<span class="hljs-params">color, radius</span>) {
  <span class="hljs-title class_">Shape</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, color);  <span class="hljs-comment">// Call parent constructor</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">radius</span> = radius;
}

<span class="hljs-comment">// Set up inheritance</span>
<span class="hljs-title class_">Circle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Shape</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
<span class="hljs-title class_">Circle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Circle</span>;

<span class="hljs-comment">// Add Circle-specific methods</span>
<span class="hljs-title class_">Circle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">area</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">radius</span> ** <span class="hljs-number">2</span>;
};

<span class="hljs-title class_">Circle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">draw</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Drawing <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.color}</span> circle with radius <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.radius}</span>`</span>);
};

<span class="hljs-comment">// Derived class - Rectangle</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Rectangle</span>(<span class="hljs-params">color, width, height</span>) {
  <span class="hljs-title class_">Shape</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, color);
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> = width;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span> = height;
}

<span class="hljs-title class_">Rectangle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Shape</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
<span class="hljs-title class_">Rectangle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Rectangle</span>;

<span class="hljs-title class_">Rectangle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">area</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span>;
};

<span class="hljs-title class_">Rectangle</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">draw</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Drawing <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.color}</span> rectangle <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.width}</span>x<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.height}</span>`</span>);
};

<span class="hljs-comment">// Usage</span>
<span class="hljs-keyword">const</span> circle = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>(<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-number">5</span>);
<span class="hljs-keyword">const</span> rect = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>(<span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-number">10</span>, <span class="hljs-number">20</span>);

circle.<span class="hljs-title function_">draw</span>();  <span class="hljs-comment">// &quot;Drawing red circle with radius 5&quot;</span>
rect.<span class="hljs-title function_">draw</span>();    <span class="hljs-comment">// &quot;Drawing blue rectangle 10x20&quot;</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(circle.<span class="hljs-title function_">area</span>());  <span class="hljs-comment">// 78.54...</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rect.<span class="hljs-title function_">area</span>());    <span class="hljs-comment">// 200</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(circle <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Circle</span>);    <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(circle <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Shape</span>);     <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(circle <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Rectangle</span>); <span class="hljs-comment">// false</span>
</code></pre><h3 id="example-2-mixins-via-prototypes">Example 2: Mixins via Prototypes</h3>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// Define mixins (behaviors)</span>
<span class="hljs-keyword">const</span> canEat = {
  <span class="hljs-title function_">eat</span>(<span class="hljs-params">food</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is eating <span class="hljs-subst">${food}</span>`</span>);
  }
};

<span class="hljs-keyword">const</span> canSwim = {
  <span class="hljs-title function_">swim</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is swimming`</span>);
  }
};

<span class="hljs-keyword">const</span> canFly = {
  <span class="hljs-title function_">fly</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is flying`</span>);
  }
};

<span class="hljs-comment">// Apply mixins to constructor</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Duck</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}

<span class="hljs-comment">// Mix in multiple behaviors</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-title class_">Duck</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, canEat, canSwim, canFly);

<span class="hljs-keyword">const</span> duck = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Duck</span>(<span class="hljs-string">&quot;Donald&quot;</span>);
duck.<span class="hljs-title function_">eat</span>(<span class="hljs-string">&quot;bread&quot;</span>);  <span class="hljs-comment">// &quot;Donald is eating bread&quot;</span>
duck.<span class="hljs-title function_">swim</span>();        <span class="hljs-comment">// &quot;Donald is swimming&quot;</span>
duck.<span class="hljs-title function_">fly</span>();         <span class="hljs-comment">// &quot;Donald is flying&quot;</span>

<span class="hljs-comment">// Apply different mixins to different constructors</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Fish</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-title class_">Fish</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, canEat, canSwim);

<span class="hljs-keyword">const</span> fish = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Fish</span>(<span class="hljs-string">&quot;Nemo&quot;</span>);
fish.<span class="hljs-title function_">eat</span>(<span class="hljs-string">&quot;plankton&quot;</span>);  <span class="hljs-comment">// &quot;Nemo is eating plankton&quot;</span>
fish.<span class="hljs-title function_">swim</span>();           <span class="hljs-comment">// &quot;Nemo is swimming&quot;</span>
<span class="hljs-comment">// fish.fly();         // TypeError: fish.fly is not a function</span>
</code></pre><h3 id="example-3-plugin-system">Example 3: Plugin System</h3>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// Base plugin system</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">plugins</span> = [];
}

<span class="hljs-title class_">App</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">use</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">plugin</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">push</span>(plugin);
  plugin.<span class="hljs-title function_">install</span>(<span class="hljs-variable language_">this</span>);
};

<span class="hljs-comment">// Plugin 1: Logger</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">LoggerPlugin</span> = {
  <span class="hljs-title function_">install</span>(<span class="hljs-params">app</span>) {
    app.<span class="hljs-property">log</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">message</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[LOG] <span class="hljs-subst">${message}</span>`</span>);
    };
  }
};

<span class="hljs-comment">// Plugin 2: Storage</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">StoragePlugin</span> = {
  <span class="hljs-title function_">install</span>(<span class="hljs-params">app</span>) {
    app.<span class="hljs-property">storage</span> = {
      <span class="hljs-attr">data</span>: {},
      <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[key] = value;
      },
      <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[key];
      }
    };
  }
};

<span class="hljs-comment">// Use plugins</span>
<span class="hljs-keyword">const</span> myApp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">App</span>();
myApp.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">LoggerPlugin</span>);
myApp.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">StoragePlugin</span>);

myApp.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Application started&quot;</span>);  <span class="hljs-comment">// &quot;[LOG] Application started&quot;</span>
myApp.<span class="hljs-property">storage</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;user&quot;</span>, <span class="hljs-string">&quot;John&quot;</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myApp.<span class="hljs-property">storage</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;user&quot;</span>));  <span class="hljs-comment">// &quot;John&quot;</span>
</code></pre><h3 id="example-4-method-chaining">Example 4: Method Chaining</h3>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Calculator</span>(<span class="hljs-params">value = <span class="hljs-number">0</span></span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = value;
}

<span class="hljs-title class_">Calculator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">add</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> += n;
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;  <span class="hljs-comment">// Return this for chaining</span>
};

<span class="hljs-title class_">Calculator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">subtract</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> -= n;
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
};

<span class="hljs-title class_">Calculator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">multiply</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> *= n;
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
};

<span class="hljs-title class_">Calculator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">divide</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> /= n;
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
};

<span class="hljs-title class_">Calculator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">result</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>;
};

<span class="hljs-comment">// Method chaining</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Calculator</span>(<span class="hljs-number">10</span>)
  .<span class="hljs-title function_">add</span>(<span class="hljs-number">5</span>)
  .<span class="hljs-title function_">multiply</span>(<span class="hljs-number">2</span>)
  .<span class="hljs-title function_">subtract</span>(<span class="hljs-number">10</span>)
  .<span class="hljs-title function_">divide</span>(<span class="hljs-number">2</span>)
  .<span class="hljs-title function_">result</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result);  <span class="hljs-comment">// 10</span>
</code></pre><h3 id="example-5-observable-pattern">Example 5: Observable Pattern</h3>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Observable</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span> = [];
}

<span class="hljs-title class_">Observable</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">subscribe</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">fn</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span>.<span class="hljs-title function_">push</span>(fn);
};

<span class="hljs-title class_">Observable</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">unsubscribe</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">fn</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">observer</span> =&gt;</span> observer !== fn);
};

<span class="hljs-title class_">Observable</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">notify</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">observer</span> =&gt;</span> <span class="hljs-title function_">observer</span>(data));
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">DataModel</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title class_">Observable</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);  <span class="hljs-comment">// Inherit Observable</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = <span class="hljs-literal">null</span>;
}

<span class="hljs-title class_">DataModel</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Observable</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
<span class="hljs-title class_">DataModel</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">DataModel</span>;

<span class="hljs-title class_">DataModel</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">setData</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notify</span>(data);  <span class="hljs-comment">// Notify all observers</span>
};

<span class="hljs-comment">// Usage</span>
<span class="hljs-keyword">const</span> model = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataModel</span>();

<span class="hljs-keyword">const</span> <span class="hljs-title function_">observer1</span> = (<span class="hljs-params">data</span>) =&gt; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Observer 1 received: <span class="hljs-subst">${data}</span>`</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">observer2</span> = (<span class="hljs-params">data</span>) =&gt; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Observer 2 received: <span class="hljs-subst">${data}</span>`</span>);

model.<span class="hljs-title function_">subscribe</span>(observer1);
model.<span class="hljs-title function_">subscribe</span>(observer2);

model.<span class="hljs-title function_">setData</span>(<span class="hljs-string">&quot;Hello&quot;</span>);
<span class="hljs-comment">// Output:</span>
<span class="hljs-comment">// Observer 1 received: Hello</span>
<span class="hljs-comment">// Observer 2 received: Hello</span>

model.<span class="hljs-title function_">unsubscribe</span>(observer1);
model.<span class="hljs-title function_">setData</span>(<span class="hljs-string">&quot;World&quot;</span>);
<span class="hljs-comment">// Output:</span>
<span class="hljs-comment">// Observer 2 received: World</span>
</code></pre><hr>
<h2 id="summary">Summary</h2>
<h3 id="key-takeaways">Key Takeaways</h3>
<ol>
<li><strong>Prototypal inheritance</strong> - objects inherit from other objects</li>
<li><strong>Prototype chain</strong> - property lookup follows chain to null</li>
<li><strong><code>__proto__</code> vs <code>prototype</code></strong> - instance vs constructor property</li>
<li><strong>Multiple ways to create</strong> - Object.create, constructors, classes</li>
<li><strong>Prototypal vs functional</strong> - trade-offs between memory and privacy</li>
<li><strong>Secure objects</strong> - prevent extensions, seal, freeze</li>
<li><strong>Practical patterns</strong> - mixins, plugins, method chaining</li>
</ol>
<h3 id="best-practices">Best Practices</h3>
<ul>
<li>Use <code>Object.create()</code> for setting up inheritance</li>
<li>Prefer <code>Object.getPrototypeOf()</code> over <code>__proto__</code></li>
<li>Don&#39;t use <code>Object.setPrototypeOf()</code> in production (slow)</li>
<li>Share methods on prototype (memory efficient)</li>
<li>Use ES6 classes for cleaner syntax</li>
<li>Check own properties with <code>hasOwnProperty()</code></li>
<li>Create null-prototype objects for dictionaries</li>
</ul>
<h3 id="common-patterns">Common Patterns</h3>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// Inheritance setup</span>
<span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
<span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Child</span>;

<span class="hljs-comment">// Mixins</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-title class_">Constructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, mixin1, mixin2);

<span class="hljs-comment">// Method chaining</span>
<span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;

<span class="hljs-comment">// Check type</span>
obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Constructor</span>
proto.<span class="hljs-title function_">isPrototypeOf</span>(obj)
</code></pre><div class="page-navigation">
            <a href="02-javascript-data-types.html" class="nav-btn nav-prev" data-nav="prev">
                <span class="nav-label">Previous</span>
                <span class="nav-title">JavaScript Data Types</span>
            </a>
        
            <a href="04-closures.html" class="nav-btn nav-next" data-nav="next">
                <span class="nav-label">Next</span>
                <span class="nav-title">Closures</span>
            </a>
        </div>
        <div class="progress-section">
            <div id="progress-controls"></div>
            <div class="notes-section">
                <h3>Your Notes</h3>
                <textarea id="page-notes" placeholder="Add your notes here... (saved automatically)"></textarea>
            </div>
        </div>
    
        <div id="markdown-source" style="display: none;"># Prototypal Inheritance

## Table of Contents
- [Inheritance Conception](#inheritance-conception)
- [Prototypal Inheritance Basics](#prototypal-inheritance-basics)
- [Prototype Chain](#prototype-chain)
- [__proto__ vs prototype](#__proto__-vs-prototype)
- [Creating Objects with Prototypes](#creating-objects-with-prototypes)
- [Prototypal vs Functional Inheritance](#prototypal-vs-functional-inheritance)
- [Methods to Set/Get Prototype](#methods-to-setget-prototype)
- [Secure Objects](#secure-objects)
- [Object.prototype Methods](#objectprototype-methods)
- [Practical Applications](#practical-applications)

---

## Inheritance Conception

### What is Inheritance?

**Inheritance** is a mechanism that allows one object/class to acquire properties and methods from another.

### Benefits of Inheritance

1. **Code Reusability**
   - Write once, use in multiple places
   - Reduce duplication
   - Easier maintenance

2. **Establish Relationships**
   - Create hierarchies (is-a relationships)
   - Logical organization
   - Natural modeling of real-world concepts

3. **Override/Extend Behavior**
   - Customize inherited functionality
   - Add new capabilities
   - Keep base behavior intact

4. **Polymorphism**
   - Same interface, different implementations
   - Flexible and extensible code
   - Substitutability

### Example

```javascript
// Without inheritance - code duplication
const dog = {
  name: "Rex",
  age: 3,
  eat() { console.log(`${this.name} is eating`); },
  sleep() { console.log(`${this.name} is sleeping`); }
};

const cat = {
  name: "Whiskers",
  age: 2,
  eat() { console.log(`${this.name} is eating`); },
  sleep() { console.log(`${this.name} is sleeping`); }
};

// With inheritance - reuse common behavior
const animal = {
  eat() { console.log(`${this.name} is eating`); },
  sleep() { console.log(`${this.name} is sleeping`); }
};

const dog2 = Object.create(animal);
dog2.name = "Rex";
dog2.bark = function() { console.log("Woof!"); };

const cat2 = Object.create(animal);
cat2.name = "Whiskers";
cat2.meow = function() { console.log("Meow!"); };
```

---

## Prototypal Inheritance Basics

### Core Concept

- **Every JavaScript object has an internal `[[Prototype]]` link**
- Objects inherit properties and methods from their prototype
- Prototype is also an object (which has its own prototype)
- Creates a **prototype chain** that ends at `Object.prototype` → `null`

### Simple Example

```javascript
// Create prototype object
const animal = {
  eats: true,
  walk() {
    console.log("Animal walks");
  }
};

// Create object that inherits from animal
const rabbit = Object.create(animal);
rabbit.jumps = true;

console.log(rabbit.eats);  // true (inherited from animal)
console.log(rabbit.jumps); // true (own property)
rabbit.walk();             // "Animal walks" (inherited method)

// Check property ownership
console.log(rabbit.hasOwnProperty('jumps')); // true
console.log(rabbit.hasOwnProperty('eats'));  // false (inherited)
```

### How Property Lookup Works

When you access `object.property`:

1. Check if property exists on the object itself
2. If not, check object's prototype
3. If not, check prototype's prototype
4. Continue up the chain until found or reach `null`

```javascript
const animal = {
  eats: true
};

const rabbit = Object.create(animal);
rabbit.jumps = true;

// Lookup for rabbit.jumps:
// 1. Check rabbit → found! Return true

// Lookup for rabbit.eats:
// 1. Check rabbit → not found
// 2. Check animal (rabbit's prototype) → found! Return true

// Lookup for rabbit.flies:
// 1. Check rabbit → not found
// 2. Check animal → not found
// 3. Check Object.prototype → not found
// 4. Reached null → return undefined
```

---

## Prototype Chain

### Understanding the Chain

Every object has a prototype chain:

```javascript
const obj = {};

// Chain: obj → Object.prototype → null
console.log(Object.getPrototypeOf(obj) === Object.prototype); // true
console.log(Object.getPrototypeOf(Object.prototype)); // null
```

```javascript
const arr = [];

// Chain: arr → Array.prototype → Object.prototype → null
console.log(Object.getPrototypeOf(arr) === Array.prototype); // true
console.log(Object.getPrototypeOf(Array.prototype) === Object.prototype); // true
```

```javascript
function fn() {}

// Chain: fn → Function.prototype → Object.prototype → null
console.log(Object.getPrototypeOf(fn) === Function.prototype); // true
console.log(Object.getPrototypeOf(Function.prototype) === Object.prototype); // true
```

### Visualizing the Chain

```javascript
function Animal(name) {
  this.name = name;
}
Animal.prototype.sleep = function() {
  console.log(`${this.name} is sleeping`);
};

function Dog(name, breed) {
  Animal.call(this, name);
  this.breed = breed;
}

// Set up inheritance
Dog.prototype = Object.create(Animal.prototype);
Dog.prototype.constructor = Dog;

Dog.prototype.bark = function() {
  console.log("Woof!");
};

const myDog = new Dog("Rex", "Labrador");

/*
Prototype Chain:

myDog
  ├─ name: "Rex"
  ├─ breed: "Labrador"
  └─ [[Prototype]] → Dog.prototype
       ├─ bark: function
       ├─ constructor: Dog
       └─ [[Prototype]] → Animal.prototype
            ├─ sleep: function
            ├─ constructor: Animal
            └─ [[Prototype]] → Object.prototype
                 ├─ toString: function
                 ├─ hasOwnProperty: function
                 └─ [[Prototype]] → null
*/

// Property lookup follows the chain:
myDog.bark();          // Found on Dog.prototype
myDog.sleep();         // Found on Animal.prototype
myDog.toString();      // Found on Object.prototype
myDog.nonExistent;     // Not found anywhere → undefined
```

### Chain Traversal

```javascript
// Manual chain traversal
let current = myDog;
while (current !== null) {
  console.log(current);
  current = Object.getPrototypeOf(current);
}
// Output:
// myDog instance
// Dog.prototype
// Animal.prototype
// Object.prototype
// (null - end of chain)
```

---

## __proto__ vs prototype

### Key Differences

| Aspect | `__proto__` | `prototype` |
|--------|-------------|-------------|
| **Property of** | All objects | Functions only |
| **Purpose** | Access object's prototype | Template for new instances |
| **When used** | Property lookup | Object creation with `new` |
| **Type** | Instance property | Constructor property |
| **Access** | `obj.__proto__` | `Constructor.prototype` |
| **Status** | Deprecated | Standard |
| **Modern alternative** | `Object.getPrototypeOf()` | No replacement needed |

### `__proto__` (Deprecated)

Getter/setter for an object's internal `[[Prototype]]`.

```javascript
const animal = {
  eats: true
};

const rabbit = {
  jumps: true
};

// Set prototype using __proto__ (deprecated)
rabbit.__proto__ = animal;

console.log(rabbit.eats);  // true (inherited)
console.log(rabbit.jumps); // true (own property)

// Get prototype
console.log(rabbit.__proto__ === animal); // true

// Modern alternative (preferred):
Object.getPrototypeOf(rabbit) === animal; // true
Object.setPrototypeOf(rabbit, animal);    // Set prototype
```

### `prototype`

Property of constructor functions that becomes the prototype of instances.

```javascript
function Dog(name) {
  this.name = name;  // Instance property
}

// Add method to prototype (shared by all instances)
Dog.prototype.bark = function() {
  console.log(`${this.name} says woof!`);
};

const dog1 = new Dog("Rex");
const dog2 = new Dog("Max");

// Both instances share the same bark method
console.log(dog1.bark === dog2.bark); // true

// Relationship:
console.log(dog1.__proto__ === Dog.prototype);           // true
console.log(Object.getPrototypeOf(dog1) === Dog.prototype); // true (preferred)
console.log(Dog.prototype.constructor === Dog);          // true
```

### The Complete Picture

```javascript
function Person(name) {
  this.name = name;
}

Person.prototype.greet = function() {
  console.log(`Hi, I'm ${this.name}`);
};

const alice = new Person("Alice");

/*
Relationships:

alice (instance)
  ├─ name: "Alice"
  └─ __proto__ / [[Prototype]]
       ↓
Person.prototype (object)
  ├─ greet: function
  ├─ constructor: Person
  └─ __proto__ / [[Prototype]]
       ↓
Object.prototype
  └─ __proto__ / [[Prototype]]
       ↓
     null

Person (function)
  └─ prototype
       ↓
Person.prototype (same object as above)
*/

// Verify relationships:
alice.__proto__ === Person.prototype;                    // true
Person.prototype.constructor === Person;                 // true
alice.__proto__.__proto__ === Object.prototype;          // true
Object.getPrototypeOf(alice) === Person.prototype;       // true (preferred)
```

### Why the Confusion?

```javascript
function Dog() {}

const dog = new Dog();

// These all refer to the same thing:
dog.__proto__
Object.getPrototypeOf(dog)
Dog.prototype

// They all equal Dog.prototype
console.log(dog.__proto__ === Dog.prototype);                  // true
console.log(Object.getPrototypeOf(dog) === Dog.prototype);     // true

// But Dog.__proto__ is different!
console.log(Dog.__proto__ === Function.prototype);             // true
// (Dog is a function, so its prototype is Function.prototype)
```

---

## Creating Objects with Prototypes

### Method 1: Object.create()

**Most modern and flexible approach.**

```javascript
// Create prototype object
const animal = {
  type: 'animal',
  speak() {
    console.log(`${this.name} makes a sound`);
  }
};

// Create object with animal as prototype
const dog = Object.create(animal);
dog.name = "Rex";
dog.breed = "Labrador";

console.log(dog.type);  // "animal" (inherited)
dog.speak();            // "Rex makes a sound"

// With property descriptors
const cat = Object.create(animal, {
  name: {
    value: "Whiskers",
    writable: true,
    enumerable: true,
    configurable: true
  },
  age: {
    value: 3,
    writable: true
  }
});

console.log(cat.name); // "Whiskers"
console.log(cat.age);  // 3
```

### Method 2: Constructor Functions

**Classic JavaScript approach.**

```javascript
function Person(name, age) {
  // Instance properties
  this.name = name;
  this.age = age;
}

// Shared methods on prototype
Person.prototype.greet = function() {
  console.log(`Hi, I'm ${this.name}, ${this.age} years old`);
};

Person.prototype.sayAge = function() {
  console.log(`I'm ${this.age} years old`);
};

// Create instances
const john = new Person("John", 30);
const jane = new Person("Jane", 25);

john.greet();  // "Hi, I'm John, 30 years old"
jane.greet();  // "Hi, I'm Jane, 25 years old"

// Methods are shared (memory efficient)
console.log(john.greet === jane.greet); // true
```

### Method 3: ES6 Classes

**Syntactic sugar over prototypes.**

```javascript
class Animal {
  constructor(name) {
    this.name = name;  // Instance property
  }

  // Method (added to Animal.prototype)
  speak() {
    console.log(`${this.name} makes a sound`);
  }

  // Static method (on class itself)
  static info() {
    console.log("Animals are living organisms");
  }
}

class Dog extends Animal {
  constructor(name, breed) {
    super(name);  // Call parent constructor
    this.breed = breed;
  }

  speak() {
    console.log(`${this.name} barks`);
  }

  fetch() {
    console.log(`${this.name} fetches the ball`);
  }
}

const dog = new Dog("Rex", "Labrador");
dog.speak();      // "Rex barks"
dog.fetch();      // "Rex fetches the ball"
Animal.info();    // "Animals are living organisms"
```

### Method 4: Object.setPrototypeOf()

**Works but slow - avoid in production.**

```javascript
const animal = {
  eats: true
};

const rabbit = {
  jumps: true
};

// Set prototype after creation (slow!)
Object.setPrototypeOf(rabbit, animal);

console.log(rabbit.eats);  // true
console.log(rabbit.jumps); // true

// Why it's slow: changes object's internal structure
// Engine optimizations are invalidated
```

### Comparison

```javascript
// 1. Object.create - most flexible
const proto1 = { method() { console.log("proto1"); } };
const obj1 = Object.create(proto1);

// 2. Constructor - classic pattern
function Constructor() {}
Constructor.prototype.method = function() { console.log("constructor"); };
const obj2 = new Constructor();

// 3. ES6 Class - modern, clean syntax
class MyClass {
  method() { console.log("class"); }
}
const obj3 = new MyClass();

// All achieve the same result:
obj1.method(); // "proto1"
obj2.method(); // "constructor"
obj3.method(); // "class"
```

---

## Prototypal vs Functional Inheritance

### Prototypal Inheritance

Objects inherit from other objects via prototype chain.

```javascript
function Animal(name) {
  this.name = name;
}

Animal.prototype.speak = function() {
  console.log(`${this.name} makes a sound`);
};

Animal.prototype.sleep = function() {
  console.log(`${this.name} is sleeping`);
};

const dog = new Animal("Rex");
const cat = new Animal("Whiskers");

dog.speak();  // "Rex makes a sound"
cat.speak();  // "Whiskers makes a sound"

// Methods are shared (memory efficient)
console.log(dog.speak === cat.speak); // true
```

**Characteristics:**
- Methods stored on prototype (shared)
- Memory efficient
- Uses `new` keyword
- Public properties (no true privacy)
- Prototype chain visible

### Functional Inheritance

Factory functions that return objects with methods.

```javascript
function createAnimal(name) {
  // Private variable (true privacy via closure)
  let energy = 100;

  return {
    name: name,

    speak() {
      console.log(`${this.name} makes a sound`);
    },

    sleep() {
      energy += 10;
      console.log(`${this.name} is sleeping. Energy: ${energy}`);
    },

    getEnergy() {
      return energy;  // Controlled access to private variable
    }
  };
}

const dog = createAnimal("Rex");
const cat = createAnimal("Whiskers");

dog.speak();         // "Rex makes a sound"
dog.sleep();         // "Rex is sleeping. Energy: 110"
console.log(dog.getEnergy()); // 110

// Methods are NOT shared (each instance has its own copy)
console.log(dog.speak === cat.speak); // false

// Private variables are truly private
console.log(dog.energy); // undefined (no direct access)
```

### Comparison Table

| Aspect | Prototypal | Functional |
|--------|-----------|-----------|
| **Memory** | Efficient (shared methods) | Less efficient (duplicate methods) |
| **Privacy** | No true privacy | True privacy via closures |
| **Syntax** | `new` keyword, `prototype` | Factory function, returns object |
| **Inheritance** | Via prototype chain | Via composition |
| **instanceof** | Works | Doesn't work |
| **Performance** | Faster | Slightly slower |
| **Flexibility** | Less flexible | More flexible |

### Hybrid Approach

Combine both for best of both worlds:

```javascript
function createPerson(name, age) {
  // Private variables
  let _id = Math.random();

  // Use constructor for shared methods
  function Person() {
    this.name = name;
    this.age = age;
  }

  Person.prototype.greet = function() {
    console.log(`Hi, I'm ${this.name}`);
  };

  // Create instance
  const instance = new Person();

  // Add methods that need access to private data
  instance.getId = function() {
    return _id;
  };

  return instance;
}

const person = createPerson("John", 30);
person.greet();  // "Hi, I'm John"
console.log(person.getId());  // Random number
console.log(person._id);      // undefined (private)
```

---

## Methods to Set/Get Prototype

### Getting Prototype

#### Modern (Preferred)

```javascript
const obj = {};

// Get prototype - preferred method
const proto = Object.getPrototypeOf(obj);
console.log(proto === Object.prototype); // true
```

#### Legacy (Deprecated)

```javascript
const obj = {};

// Using __proto__ - deprecated but still works
console.log(obj.__proto__ === Object.prototype); // true
```

### Setting Prototype

#### At Creation (Preferred)

```javascript
const animal = {
  eats: true
};

// Object.create - best practice
const rabbit = Object.create(animal);
console.log(rabbit.eats); // true

// With property descriptors
const bird = Object.create(animal, {
  flies: {
    value: true,
    writable: true,
    enumerable: true
  }
});
```

#### After Creation (Avoid)

```javascript
const animal = {
  eats: true
};

const rabbit = {
  jumps: true
};

// Object.setPrototypeOf - works but slow!
Object.setPrototypeOf(rabbit, animal);
console.log(rabbit.eats); // true

// __proto__ - deprecated
// rabbit.__proto__ = animal;
```

### Checking Prototype Relationships

```javascript
const animal = {
  eats: true
};

const rabbit = Object.create(animal);

// Check if animal is in rabbit's prototype chain
console.log(animal.isPrototypeOf(rabbit)); // true

// instanceof (works with constructors)
function Dog() {}
const dog = new Dog();
console.log(dog instanceof Dog);    // true
console.log(dog instanceof Object); // true

// Check constructor
console.log(rabbit.constructor === Object); // true
console.log(dog.constructor === Dog);       // true
```

### Creating Objects with null Prototype

```javascript
// Object with no prototype (truly empty)
const obj = Object.create(null);

console.log(obj.toString); // undefined
console.log(Object.getPrototypeOf(obj)); // null

// Useful for:
// - Pure dictionaries
// - No inherited properties
// - No prototype pollution

// Use case: clean map/dictionary
const dictionary = Object.create(null);
dictionary.hasOwnProperty = "my value";  // Would conflict on normal object
console.log(dictionary.hasOwnProperty);  // "my value" (not the method)
```

### Summary of Methods

```javascript
// GET prototype
Object.getPrototypeOf(obj)        // ✅ Preferred
obj.__proto__                     // ❌ Deprecated

// SET prototype at creation
Object.create(proto)              // ✅ Preferred
Object.create(proto, properties)  // ✅ With descriptors

// SET prototype after creation
Object.setPrototypeOf(obj, proto) // ⚠️ Slow, avoid
obj.__proto__ = proto             // ❌ Deprecated

// CHECK relationships
proto.isPrototypeOf(obj)          // ✅ Check if in chain
obj instanceof Constructor        // ✅ For constructors
```

---

## Secure Objects

### Prevent Extensions

No new properties can be added.

```javascript
const obj = { x: 1 };

Object.preventExtensions(obj);

obj.x = 2;      // OK - modify existing
console.log(obj.x); // 2

obj.y = 3;      // Silently fails (strict mode: throws)
console.log(obj.y); // undefined

delete obj.x;   // OK - can delete
console.log(obj.x); // undefined

// Check if extensible
console.log(Object.isExtensible(obj)); // false
```

### Seal

No add/remove properties, but can modify existing values.

```javascript
const obj = { x: 1, y: 2 };

Object.seal(obj);

obj.x = 10;     // OK - modify existing
console.log(obj.x); // 10

obj.z = 3;      // Fails - can't add
console.log(obj.z); // undefined

delete obj.y;   // Fails - can't delete
console.log(obj.y); // 2 (still there)

// Check if sealed
console.log(Object.isSealed(obj)); // true
```

### Freeze

Completely immutable (shallow).

```javascript
const obj = { x: 1, y: 2 };

Object.freeze(obj);

obj.x = 10;     // Fails - can't modify
console.log(obj.x); // 1 (unchanged)

obj.z = 3;      // Fails - can't add
console.log(obj.z); // undefined

delete obj.y;   // Fails - can't delete
console.log(obj.y); // 2 (still there)

// Check if frozen
console.log(Object.isFrozen(obj)); // true
```

### Important: Shallow Operations

```javascript
const obj = {
  x: 1,
  nested: { y: 2 }
};

Object.freeze(obj);

obj.x = 10;           // Fails
console.log(obj.x);   // 1

obj.nested.y = 20;    // Works! (nested object not frozen)
console.log(obj.nested.y); // 20

// Deep freeze (recursive)
function deepFreeze(obj) {
  Object.freeze(obj);

  Object.keys(obj).forEach(key =&gt; {
    if (typeof obj[key] === 'object' && obj[key] !== null) {
      deepFreeze(obj[key]);
    }
  });

  return obj;
}

const obj2 = {
  x: 1,
  nested: { y: 2 }
};

deepFreeze(obj2);
obj2.nested.y = 20;   // Now fails
console.log(obj2.nested.y); // 2 (unchanged)
```

### Comparison Table

| Operation | Extensible | Sealed | Frozen |
|-----------|-----------|--------|--------|
| Add properties | ✅ | ❌ | ❌ |
| Delete properties | ✅ | ❌ | ❌ |
| Modify values | ✅ | ✅ | ❌ |
| Modify descriptors | ✅ | ❌ | ❌ |

### Creating Truly Empty Objects

```javascript
// Regular object has inherited properties
const obj1 = {};
console.log(obj1.toString); // [Function: toString] (inherited)

// Object with null prototype - truly empty
const obj2 = Object.create(null);
console.log(obj2.toString); // undefined (no inheritance)

// Benefits:
// - No prototype pollution
// - Clean dictionaries
// - No naming conflicts

// Use case: safe key-value store
const map = Object.create(null);
map['toString'] = "my value";  // Safe! Won't conflict
map['__proto__'] = "another value";  // Safe!
```

### Private Fields with Closures

```javascript
function createSecureObject(secret) {
  // Private variable - truly private
  let _secret = secret;

  // Public interface
  return {
    getSecret() {
      return _secret;
    },

    setSecret(newSecret) {
      if (typeof newSecret === 'string') {
        _secret = newSecret;
      }
    }
  };
}

const obj = createSecureObject("password123");
console.log(obj.getSecret());  // "password123"
console.log(obj._secret);      // undefined (no direct access)
obj.setSecret("newpassword");
console.log(obj.getSecret());  // "newpassword"
```

### ES6 Private Fields (Classes)

```javascript
class SecureAccount {
  #balance = 0;  // Private field

  constructor(initialBalance) {
    this.#balance = initialBalance;
  }

  deposit(amount) {
    this.#balance += amount;
  }

  getBalance() {
    return this.#balance;
  }
}

const account = new SecureAccount(100);
account.deposit(50);
console.log(account.getBalance());  // 150
// console.log(account.#balance);   // SyntaxError: Private field
```

---

## Object.prototype Methods

Common methods inherited by all objects:

### hasOwnProperty()

Check if property is own (not inherited).

```javascript
const animal = { eats: true };
const rabbit = Object.create(animal);
rabbit.jumps = true;

console.log(rabbit.hasOwnProperty('jumps')); // true (own)
console.log(rabbit.hasOwnProperty('eats'));  // false (inherited)
console.log(rabbit.hasOwnProperty('flies')); // false (doesn't exist)
```

### isPrototypeOf()

Check if object is in another's prototype chain.

```javascript
const animal = { eats: true };
const rabbit = Object.create(animal);

console.log(animal.isPrototypeOf(rabbit));          // true
console.log(Object.prototype.isPrototypeOf(rabbit)); // true
console.log(Array.prototype.isPrototypeOf(rabbit));  // false
```

### propertyIsEnumerable()

Check if property is enumerable.

```javascript
const obj = { x: 1 };

Object.defineProperty(obj, 'y', {
  value: 2,
  enumerable: false
});

console.log(obj.propertyIsEnumerable('x'));  // true
console.log(obj.propertyIsEnumerable('y'));  // false
console.log(obj.propertyIsEnumerable('toString')); // false (inherited)
```

### toString()

String representation of object.

```javascript
const obj = { x: 1 };
console.log(obj.toString()); // "[object Object]"

// Override for custom behavior
obj.toString = function() {
  return `Object with x=${this.x}`;
};
console.log(obj.toString()); // "Object with x=1"

// Get precise type
Object.prototype.toString.call([]);        // "[object Array]"
Object.prototype.toString.call(new Date()); // "[object Date]"
Object.prototype.toString.call(/regex/);   // "[object RegExp]"
```

### valueOf()

Primitive value of object.

```javascript
const obj = { x: 1 };
console.log(obj.valueOf()); // { x: 1 } (the object itself)

// Custom behavior
obj.valueOf = function() {
  return this.x;
};

console.log(obj + 10); // 11 (valueOf() called during coercion)
```

### toLocaleString()

Localized string representation.

```javascript
const date = new Date();
console.log(date.toLocaleString()); // Localized date string

const num = 123456.789;
console.log(num.toLocaleString('en-US'));  // "123,456.789"
console.log(num.toLocaleString('de-DE'));  // "123.456,789"
```

---

## Practical Applications

### Example 1: Inheritance Hierarchy

```javascript
// Base class
function Shape(color) {
  this.color = color;
}

Shape.prototype.draw = function() {
  console.log(`Drawing ${this.color} shape`);
};

Shape.prototype.getColor = function() {
  return this.color;
};

// Derived class - Circle
function Circle(color, radius) {
  Shape.call(this, color);  // Call parent constructor
  this.radius = radius;
}

// Set up inheritance
Circle.prototype = Object.create(Shape.prototype);
Circle.prototype.constructor = Circle;

// Add Circle-specific methods
Circle.prototype.area = function() {
  return Math.PI * this.radius ** 2;
};

Circle.prototype.draw = function() {
  console.log(`Drawing ${this.color} circle with radius ${this.radius}`);
};

// Derived class - Rectangle
function Rectangle(color, width, height) {
  Shape.call(this, color);
  this.width = width;
  this.height = height;
}

Rectangle.prototype = Object.create(Shape.prototype);
Rectangle.prototype.constructor = Rectangle;

Rectangle.prototype.area = function() {
  return this.width * this.height;
};

Rectangle.prototype.draw = function() {
  console.log(`Drawing ${this.color} rectangle ${this.width}x${this.height}`);
};

// Usage
const circle = new Circle('red', 5);
const rect = new Rectangle('blue', 10, 20);

circle.draw();  // "Drawing red circle with radius 5"
rect.draw();    // "Drawing blue rectangle 10x20"

console.log(circle.area());  // 78.54...
console.log(rect.area());    // 200

console.log(circle instanceof Circle);    // true
console.log(circle instanceof Shape);     // true
console.log(circle instanceof Rectangle); // false
```

### Example 2: Mixins via Prototypes

```javascript
// Define mixins (behaviors)
const canEat = {
  eat(food) {
    console.log(`${this.name} is eating ${food}`);
  }
};

const canSwim = {
  swim() {
    console.log(`${this.name} is swimming`);
  }
};

const canFly = {
  fly() {
    console.log(`${this.name} is flying`);
  }
};

// Apply mixins to constructor
function Duck(name) {
  this.name = name;
}

// Mix in multiple behaviors
Object.assign(Duck.prototype, canEat, canSwim, canFly);

const duck = new Duck("Donald");
duck.eat("bread");  // "Donald is eating bread"
duck.swim();        // "Donald is swimming"
duck.fly();         // "Donald is flying"

// Apply different mixins to different constructors
function Fish(name) {
  this.name = name;
}

Object.assign(Fish.prototype, canEat, canSwim);

const fish = new Fish("Nemo");
fish.eat("plankton");  // "Nemo is eating plankton"
fish.swim();           // "Nemo is swimming"
// fish.fly();         // TypeError: fish.fly is not a function
```

### Example 3: Plugin System

```javascript
// Base plugin system
function App() {
  this.plugins = [];
}

App.prototype.use = function(plugin) {
  this.plugins.push(plugin);
  plugin.install(this);
};

// Plugin 1: Logger
const LoggerPlugin = {
  install(app) {
    app.log = function(message) {
      console.log(`[LOG] ${message}`);
    };
  }
};

// Plugin 2: Storage
const StoragePlugin = {
  install(app) {
    app.storage = {
      data: {},
      set(key, value) {
        this.data[key] = value;
      },
      get(key) {
        return this.data[key];
      }
    };
  }
};

// Use plugins
const myApp = new App();
myApp.use(LoggerPlugin);
myApp.use(StoragePlugin);

myApp.log("Application started");  // "[LOG] Application started"
myApp.storage.set("user", "John");
console.log(myApp.storage.get("user"));  // "John"
```

### Example 4: Method Chaining

```javascript
function Calculator(value = 0) {
  this.value = value;
}

Calculator.prototype.add = function(n) {
  this.value += n;
  return this;  // Return this for chaining
};

Calculator.prototype.subtract = function(n) {
  this.value -= n;
  return this;
};

Calculator.prototype.multiply = function(n) {
  this.value *= n;
  return this;
};

Calculator.prototype.divide = function(n) {
  this.value /= n;
  return this;
};

Calculator.prototype.result = function() {
  return this.value;
};

// Method chaining
const result = new Calculator(10)
  .add(5)
  .multiply(2)
  .subtract(10)
  .divide(2)
  .result();

console.log(result);  // 10
```

### Example 5: Observable Pattern

```javascript
function Observable() {
  this.observers = [];
}

Observable.prototype.subscribe = function(fn) {
  this.observers.push(fn);
};

Observable.prototype.unsubscribe = function(fn) {
  this.observers = this.observers.filter(observer =&gt; observer !== fn);
};

Observable.prototype.notify = function(data) {
  this.observers.forEach(observer =&gt; observer(data));
};

function DataModel() {
  Observable.call(this);  // Inherit Observable
  this.data = null;
}

DataModel.prototype = Object.create(Observable.prototype);
DataModel.prototype.constructor = DataModel;

DataModel.prototype.setData = function(data) {
  this.data = data;
  this.notify(data);  // Notify all observers
};

// Usage
const model = new DataModel();

const observer1 = (data) =&gt; console.log(`Observer 1 received: ${data}`);
const observer2 = (data) =&gt; console.log(`Observer 2 received: ${data}`);

model.subscribe(observer1);
model.subscribe(observer2);

model.setData("Hello");
// Output:
// Observer 1 received: Hello
// Observer 2 received: Hello

model.unsubscribe(observer1);
model.setData("World");
// Output:
// Observer 2 received: World
```

---

## Summary

### Key Takeaways

1. **Prototypal inheritance** - objects inherit from other objects
2. **Prototype chain** - property lookup follows chain to null
3. **`__proto__` vs `prototype`** - instance vs constructor property
4. **Multiple ways to create** - Object.create, constructors, classes
5. **Prototypal vs functional** - trade-offs between memory and privacy
6. **Secure objects** - prevent extensions, seal, freeze
7. **Practical patterns** - mixins, plugins, method chaining

### Best Practices

- Use `Object.create()` for setting up inheritance
- Prefer `Object.getPrototypeOf()` over `__proto__`
- Don't use `Object.setPrototypeOf()` in production (slow)
- Share methods on prototype (memory efficient)
- Use ES6 classes for cleaner syntax
- Check own properties with `hasOwnProperty()`
- Create null-prototype objects for dictionaries

### Common Patterns

```javascript
// Inheritance setup
Child.prototype = Object.create(Parent.prototype);
Child.prototype.constructor = Child;

// Mixins
Object.assign(Constructor.prototype, mixin1, mixin2);

// Method chaining
return this;

// Check type
obj instanceof Constructor
proto.isPrototypeOf(obj)
```
</div>
    
    </main>

    <!-- Back to Top Button -->
    <button id="back-to-top" aria-label="Back to top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Search Modal -->
    <div id="search-modal" class="modal">
        <div class="modal-content search-content">
            <div class="search-header">
                <input type="text" id="search-input" placeholder="Search topics..." autofocus>
                <button id="search-close" aria-label="Close search">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="search-results" class="search-results"></div>
            <div class="search-footer">
                <span><i class="fas fa-arrows-alt-v"></i> Navigate</span>
                <span><i class="fas fa-level-down-alt"></i> Select</span>
                <span>Esc Close</span>
            </div>
        </div>
    </div>

    <!-- Shortcuts Modal -->
    <div id="shortcuts-modal" class="modal">
        <div class="modal-content shortcuts-modal-content">
            <div class="modal-header">
                <h2>Keyboard Shortcuts</h2>
                <button id="shortcuts-close" aria-label="Close shortcuts">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="shortcuts-content"></div>
        </div>
    </div>

    <!-- Auto-Generate Confirmation Modal -->
    <div id="generate-modal" class="modal">
        <div class="modal-content generate-content">
            <div class="modal-header">
                <h2><i class="fas fa-magic"></i> Auto-Generate Flashcards</h2>
                <button id="generate-close" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="generate-body">
                <!-- AI Toggle -->
                <div class="ai-toggle-section">
                    <label class="toggle-label">
                        <input type="checkbox" id="use-ai-toggle">
                        <span class="toggle-text">
                            <i class="fas fa-robot"></i> Use AI-Powered Generation
                            <small>(More diverse & intelligent questions)</small>
                        </span>
                    </label>
                </div>

                <!-- AI Settings (shown when toggle is ON) -->
                <div id="ai-settings-section" class="ai-settings hidden">
                    <div class="form-group">
                        <label for="ai-provider-select">AI Provider:</label>
                        <select id="ai-provider-select">
                            <option value="groq" selected>Groq (Recommended - Free & Fast)</option>
                            <option value="gemini">Google Gemini</option>
                            <option value="huggingface">Hugging Face</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="ai-api-key-input">
                            API Key:
                            <a href="#" id="get-api-key-link" target="_blank" class="help-link">
                                <i class="fas fa-external-link-alt"></i> Get Free Key
                            </a>
                        </label>
                        <input type="password" id="ai-api-key-input" placeholder="Enter your API key">
                        <small class="help-text">Your key is stored locally and never shared</small>
                    </div>

                    <div class="form-group">
                        <label for="questions-per-section">Questions per Section:</label>
                        <input type="number" id="questions-per-section" value="3" min="1" max="10">
                    </div>

                    <div class="form-group">
                        <label for="question-diversity">Question Diversity:</label>
                        <select id="question-diversity">
                            <option value="low">Low (Similar questions)</option>
                            <option value="medium">Medium (Balanced)</option>
                            <option value="high" selected>High (Maximum variety)</option>
                        </select>
                    </div>

                    <button id="test-ai-connection" class="action-btn">
                        <i class="fas fa-plug"></i> Test Connection
                    </button>
                    <div id="ai-test-result" class="test-result hidden"></div>
                </div>

                <!-- Pattern Matching Stats (shown when AI is OFF) -->
                <div id="pattern-stats-section" class="generate-stats">
                    <p>Found <strong id="gen-total-count">0</strong> potential flashcards:</p>
                    <div class="gen-breakdown">
                        <div><i class="fas fa-heading"></i> From headings: <span id="gen-heading-count">0</span></div>
                        <div><i class="fas fa-book"></i> From definitions: <span id="gen-def-count">0</span></div>
                        <div><i class="fas fa-list"></i> From lists: <span id="gen-list-count">0</span></div>
                        <div><i class="fas fa-code"></i> From code: <span id="gen-code-count">0</span></div>
                    </div>
                </div>

                <div class="generate-preview">
                    <h3>Preview:</h3>
                    <ul id="generate-preview-list"></ul>
                </div>
                <div class="generate-actions">
                    <button id="generate-cancel-btn" class="action-btn">Cancel</button>
                    <button id="generate-confirm-btn" class="action-btn primary">
                        <i class="fas fa-magic"></i> <span id="generate-btn-text">Generate All</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Card Modal -->
    <div id="add-card-modal" class="modal">
        <div class="modal-content add-card-content">
            <div class="modal-header">
                <h2><i class="fas fa-plus"></i> Add Flashcard</h2>
                <button id="add-card-close" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="add-card-body">
                <div class="form-group">
                    <label for="card-question">Question:</label>
                    <textarea id="card-question" rows="3" placeholder="Enter the question..."></textarea>
                </div>
                <div class="form-group">
                    <label for="card-answer">Answer:</label>
                    <textarea id="card-answer" rows="5" placeholder="Enter the answer..."></textarea>
                </div>
                <div class="add-card-actions">
                    <button id="save-card-btn" class="action-btn primary">
                        <i class="fas fa-save"></i> Save
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/nav.js"></script>
    <script src="js/progress.js"></script>
    <script src="js/search.js"></script>
    <script src="js/shortcuts.js"></script>
    <script src="js/flashcards.js"></script>
    <script src="js/ai-flashcard-generator.js"></script>
    <script src="js/flashcards-ui.js"></script>
</body>

</html>
